---
title: "리팩터링: 첫 번째 예시(4)"
excerpt: "첫 번째 예시를 마치며 정리"

categories:
  - refactoring
tags:
  - [refactoring]

toc: true
toc_sticky: true

date: 2022-03-21
last_modified_at: 2022-03-21
---

## 1. 리팩터링 첫 번째 예시

### 1.10 마치며

#### 다양한 리팩터링 기법

- 함수 추출하기
- 변수 인라인하기
- 함수 옮기기
- 조건부 로직을 다형성으로 바꾸기 ...

#### 세 단계로 진행

1. 원본 함수를 중첩 함수 여러 개로 나눈다.
2. **단어 쪼개기**를 적용해서 계산 코드와 출력 코드를 분리했다.
3. 계산 로직을 다형성으로 표현했다.

#### 좋은 코드를 가늠하는 확실한 방법은 '얼마나 수정하기 쉬운가'다.

### 1.11 궁금한 내용

- 타입 코드를 서브클래스로 바꾸기?
  - 타입 코드란? : 오브젝트의 종류를 표현하는 값
  - 슈퍼클래스? : 상속되는 클래스
  - 서브클래스? : 상속을 받는 클래스
    - 클래스를 상속 받기위해서는 클래스 정의후에 옆에 extends를 적고 상속받을 클래스 이름을 쓰면된다.
      ex: `class SubClass extends SuperClass`  
       `class TragedyCalculator extends PerformanceCalculator`
- 자바스크립트에서는 생성자가 서브클래스의 인스턴스를 반환할 수 없다.
- [팩터리 함수란?](https://ui.toast.com/weekly-pick/ko_20160905)

### 1.12 회고

- 저자는 사람들에게 자신이 리팩터링 하는 과정을 보여줄 때마다 각 단계를 굉장히 잘게 나누고 매번 컴파일하고 테스트하여 작동하는 상태로 유지한다는 사실에 놀란다고 적혀있는데, 실로 그렇다. 처음에는 그대로 내버려둬도 괜찮은 statement()라고 생각했으나, 리팩터링 과정과 결과를 보니 너무도 경이로웠다. 테스트 역시 fail이 날 것 같은데 보란듯이 pass가 뜬다.
- 클래스 부분에서부터 지식이 부족한지 이해하기 조금 어려웠다. 다시 한 번 복습해야겠다.
- 한 번에 이 책을 흡수할 수는 없겠지만 조금씩 내 것으로 만들고 싶다. 이 책을 지금에야 알게 되어서 무척 기쁘다.
